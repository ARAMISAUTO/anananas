<?xml version="1.0" encoding="UTF-8"?>
<project name="toolkit.lib.macro">
	<!-- Iterates of project files and calls given target -->
    <macrodef name="iterate">
        <attribute name="target" />
        <attribute name="basedir" />
        <attribute name="paths" />
        <sequential>
            <subant target="@{target}" inheritall="true">
                <fileset dir="@{basedir}" includes="@{paths}" />
            </subant>
        </sequential>
    </macrodef>

    <macrodef name="initConfiguration">
        <attribute name="configurationDir" />
        <attribute name="moduleDir" />
        <attribute name="moduleName" />
        <sequential>
            <mkdir dir="@{configurationDir}/modules/@{moduleName}" />
            <copy todir="@{configurationDir}/modules/@{moduleName}">
                <fileset dir="@{moduleDir}/@{moduleName}/etc" includes="**" erroronmissingdir="false" />
            </copy>
        </sequential>
    </macrodef>
</project>
