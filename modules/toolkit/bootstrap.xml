<?xml version="1.0" encoding="UTF-8"?>
<project name="bootstrap" default="bootstrap">
    <target name="bootstrap" description="Bootstraps application">
        <!-- Store toolkit base directory for later use -->
        <dirname property="toolkit.dir.base" file="${ant.file.bootstrap}/../.." />

        <!-- Default values -->
        <basename property="bootstrap.application.name" file="${basedir}" />
        <property name="bootstrap.application.dir.src" value="src" />
        <property name="bootstrap.application.dir.dist" value="dist" />

        <!-- Create application build.xml file -->
        <copy file="${toolkit.dir.base}/modules/toolkit/templates/build.xml" todir="${basedir}" overwrite="false" />
        <replace file="${basedir}/build.xml" token="@application.name@" value="${bootstrap.application.name}" />

        <!-- Create application toolkit.properties file-->
        <copy file="${toolkit.dir.base}/modules/toolkit/templates/toolkit.properties" todir="${basedir}" overwrite="false" />

        <!-- Create sources directory -->
        <mkdir dir="${basedir}/${bootstrap.application.dir.src}" />

        <!-- Create dist directory -->
        <mkdir dir="${basedir}/${bootstrap.application.dir.dist}" />
    </target>
</project>